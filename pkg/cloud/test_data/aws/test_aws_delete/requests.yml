name: AWS delete cloud test
description: cloud AWS delete test

test_data:
  cloud: &cloud
    provisioning_state: NOSTATE
    name: cloud
    uuid: cloud_uuid_aws
    organization: unit_test
    cloud_user_refs:
      - uuid: cloud_user_uuid
    provisioning_action: DELETE_CLOUD

clients:
  default:
    id: alice
    password: alice_password
    insecure: true
    scope:
      project:
        name: admin

workflow:
- name: delete cloud
  request:
    path: /cloud/cloud_uuid_aws
    method: PUT
    expected:
    - 200
    data:
      cloud: *cloud
  expect:
    cloud: *cloud

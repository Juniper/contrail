name: Replication update objects
description: replication test to update objects
test_data:
  test_create_node_profile: &test_create_node_profile
    uuid: test_create_node_profile_uuid
  test_create_node: &test_create_node
    uuid: test_create_node_uuid
  test_create_port: &test_create_port
    uuid: test_create_port_uuid

clients:
  default:
    id: alice
    password: alice_password
    insecure: true
    scope:
      project:
        name: admin

workflow:
- name: update test replicate node profile
  request:
    path: /node-profile/test_create_node_profile_uuid
    method: PUT
    expected:
    - 200
    data:
      node-profile: *test_create_node_profile

- name: update test replicate node
  request:
    path: /node/test_create_node_uuid
    method: PUT
    expected:
    - 200
    data:
      node: *test_create_node_profile

- name: update test replicate port
  request:
    path: /port/test_create_port_uuid
    method: PUT
    expected:
    - 200
    data:
      port: *test_create_port

api_style: contrail
extends:
- base
id: bgp_as_a_service
parents:
  project:
    description: BGP as service object represents BGP peer in the virtual network
      that can participate in dynamic routing with implicit default gateway of the
      virtual network.
    operations: CRUD
    presence: optional
plural: bgp_as_a_services
prefix: /
references:
  bgp_router:
    description: Reference to internal BGP peer object automatically generated by
      the system.
    operations: CRUD
    presence: system-only
  control_node_zone:
    $ref: types.json#/definitions/BGPaaSControlNodeZoneAttributes
    description: Reference to control-node-zone for bgp-peer selection
    operations: CRUD
    presence: optional
  service_health_check:
    description: Reference to health check object attached to BGPaaS object, used
      to enable BFD health check over active BGPaaS VMI.
    operations: CRUD
    presence: optional
  virtual_machine_interface:
    description: Reference to VMI on which BGPaaS BGP peering will happen.
    operations: CRUD
    presence: required
schema:
  properties:
    autonomous_system:
      $ref: types.json#/definitions/AutonomousSystemType
      description: 16 bit BGP Autonomous System number for the cluster.
      operations: CRUD
      presence: required
    bgpaas_ip_address:
      $ref: types.json#/definitions/IpAddressType
      description: Ip address of the BGP peer.
      operations: CRUD
      presence: required
    bgpaas_ipv4_mapped_ipv6_nexthop:
      description: True when client bgp implementation expects to receive a ipv4-mapped
        ipv6 address (as opposed to regular ipv6 address) as the bgp nexthop for ipv6
        routes.
      operations: CRUD
      presence: optional
      type: boolean
    bgpaas_session_attributes:
      $ref: types.json#/definitions/BgpSessionAttributes
      description: BGP peering session attributes.
      operations: CRUD
      presence: required
    bgpaas_shared:
      default: false
      description: True if only one BGP router needs to be created. Otherwise, one
        BGP router is created for each VMI
      operations: CRUD
      presence: optional
      type: boolean
    bgpaas_suppress_route_advertisement:
      description: True when server should not advertise any routes to the client
        i.e. the client has static routes (typically a default) configured.
      operations: CRUD
      presence: optional
      type: boolean
  required:
  - autonomous_system
  - bgpaas_ip_address
  - bgpaas_session_attributes
  type: object

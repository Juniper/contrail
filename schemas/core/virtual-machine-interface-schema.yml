---
  prefix: "/"
  api_style: "contrail"
  extends: 
    - "base"
  references: 
    virtual_machine_interface: 
      operations: "CRUD"
      description: "List of references to the sub interfaces of this interface."
      presence: "optional"
    virtual_machine: 
      operations: "CRUD"
      description: "This interface belongs to the referenced virtual machine."
      presence: "optional"
    bgp_router: 
      operations: "CRUD"
      description: "Reference to bgp-router from the virtual machine interface."
      presence: "required"
    security_logging_object: 
      operations: "CRUD"
      description: "Reference to security logging object for this virtual machine interface"
      presence: "optional"
    interface_route_table: 
      operations: "CRUD"
      description: "Reference to the interface route table attached to this interface."
      presence: "optional"
    routing_instance: 
      operations: "CRUD"
      $ref: "types.json#definitions/PolicyBasedForwardingRuleType"
      description: "Automatically generated Forwarding policy. This will be deprecated in future in favour of VRF assign rules."
      presence: "system-only"
    qos_config: 
      operations: "CRUD"
      description: "Reference to QoS config for this virtual machine interface."
      presence: "optional"
    port_tuple: 
      operations: "CRUD"
      description: ""
      presence: "optional"
    physical_interface: 
      operations: "CRUD"
      description: "Reference to the physical interface of service appliance this service interface represents."
      presence: "system-only"
    service_health_check: 
      operations: "CRUD"
      description: "Reference to health check object attached to this interface."
      presence: "optional"
    security_group: 
      operations: "CRUD"
      description: "Interface ACL, Automatically generated by system based on security groups attached to this interface."
      presence: "optional"
    virtual_network: 
      operations: "CRUD"
      description: "This interface is member of the referenced virtual network."
      presence: "required"
    bridge_domain: 
      operations: "CRUD"
      $ref: "types.json#definitions/BridgeDomainMembershipType"
      description: "Virtual Machine interface maps to a bridge-domain by defaultor based on in coming 802.1Q vlan tag"
      presence: "optional"
    service_endpoint: 
      operations: "CRUD"
      description: "Links the access endpoint i.e virtual-machine-interface to service endpoint."
      presence: "optional"
  parents: 
    project: 
      operations: "CRUD"
      description: "Virtual machine interface represent a interface(port) into virtual network. It may or may not have corresponding virtual machine. A virtual machine interface has atleast a MAC address and Ip address."
      presence: "optional"
    virtual_machine: 
      operations: "CRUD"
      description: "References to child interfaces this virtual machine has, this is DEPRECATED."
      presence: "optional"
    virtual_router: 
      operations: "CRUD"
      description: "An interface on a virtual-router, e.g. vhost0"
      presence: "optional"
  plural: "virtual_machine_interfaces"
  id: "virtual_machine_interface"
  schema: 
    required: 
      - "virtual_machine_interface_mac_addresses"
    type: "object"
    properties: 
      ecmp_hashing_include_fields: 
        operations: "CRUD"
        presence: "optional"
        description: "ECMP hashing config at global level."
        $ref: "types.json#/definitions/EcmpHashingIncludeFields"
      virtual_machine_interface_host_routes: 
        operations: "CRUD"
        presence: "optional"
        description: "List of host routes(prefixes, nexthop) that are passed to VM via DHCP."
        $ref: "types.json#/definitions/RouteTableType"
      virtual_machine_interface_mac_addresses: 
        operations: "CRUD"
        presence: "required"
        description: "MAC address of the virtual machine interface, automatically assigned by system if not provided."
        $ref: "types.json#/definitions/MacAddressesType"
      virtual_machine_interface_dhcp_option_list: 
        operations: "CRUD"
        presence: "optional"
        description: "DHCP options configuration specific to this interface."
        $ref: "types.json#/definitions/DhcpOptionsListType"
      virtual_machine_interface_bindings: 
        operations: "CRUD"
        collectionType: "map"
        presence: "optional"
        description: "Dictionary of arbitrary (key, value) for this interface. Neutron port bindings use this."
        $ref: "types.json#/definitions/KeyValuePairs"
      virtual_machine_interface_disable_policy: 
        default: false
        operations: "CRUD"
        type: "boolean"
        description: "When True all policy checks for ingress and egress traffic from this interface are disabled. Flow table entries are not created. Features that require policy will not work on this interface, these include security group, floating IP, service chain, linklocal services."
        presence: "optional"
      virtual_machine_interface_allowed_address_pairs: 
        operations: "CRUD"
        presence: "optional"
        description: "List of (IP address, MAC) other than instance ip on this interface."
        $ref: "types.json#/definitions/AllowedAddressPairs"
      virtual_machine_interface_fat_flow_protocols: 
        operations: "CRUD"
        collectionType: "list"
        presence: "optional"
        description: "List of (protocol, port number), for flows to interface with (protocol, destination port number), vrouter will ignore source port while setting up flow and ignore it as source port in reverse flow. Hence many flows will map to single flow."
        $ref: "types.json#/definitions/FatFlowProtocols"
      igmp_config: 
        operations: "CRUD"
        presence: "optional"
        description: "Global IGMP parameters"
        $ref: "types.json#/definitions/IgmpConfigType"
      vlan_tag_based_bridge_domain: 
        default: false
        operations: "CRUD"
        type: "boolean"
        description: "Enable VLAN tag based bridge domain classification on the port"
        presence: "optional"
      virtual_machine_interface_device_owner: 
        operations: "CRUD"
        type: "string"
        description: "For openstack compatibility, not used by system."
        presence: "optional"
      vrf_assign_table: 
        operations: "CRUD"
        presence: "system-only"
        description: "VRF assignment policy for this interface, automatically generated by system."
        $ref: "types.json#/definitions/VrfAssignTableType"
      port_security_enabled: 
        default: true
        operations: "CRUD"
        type: "boolean"
        description: "Port security status on the network"
        presence: "optional"
      virtual_machine_interface_properties: 
        operations: "CRUD"
        presence: "optional"
        description: "Virtual Machine Interface miscellaneous configurations."
        $ref: "types.json#/definitions/VirtualMachineInterfacePropertiesType"


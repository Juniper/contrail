{
  "comments": [
    {
      "key": {
        "uuid": "f07575f8_597ec69a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 565
      },
      "writtenOn": "2019-12-16T11:05:48Z",
      "side": 1,
      "message": "Please follow rules from https://www.freecodecamp.org/news/writing-good-commit-messages-a-practical-guide/",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 18
      },
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea22a017_8bded63d",
        "filename": "pkg/apisrv/proxy.go",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 565
      },
      "writtenOn": "2019-12-16T11:05:48Z",
      "side": 1,
      "message": "I think we should improve the interface and wording because it was a bit messy in previous version (it\u0027s not your fault, but we can fix it now). I think we need to introduce concepts of \"scope\" and \"endpoint\". Then:\n1. InStore should use \"scope\" argument because it looks for a scope, not for endpoint.\n2. Remove removes scopes so should use \"scope\" argument.\n3. UpdateEndpoint sets new endpoint data in given scope so it should be: \"scope\" and \"endpoint\"\n4. WriteNewTargetStore is inconsistent with all above so I guess it should be renamed to `InitScope(scope string)`",
      "range": {
        "startLine": 36,
        "startChar": 1,
        "endLine": 41,
        "endChar": 40
      },
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3351e863_176c957d",
        "filename": "pkg/apisrv/proxy.go",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 878
      },
      "writtenOn": "2019-12-17T07:50:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ea22a017_8bded63d",
      "range": {
        "startLine": 36,
        "startChar": 1,
        "endLine": 41,
        "endChar": 40
      },
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "076c9d28_77570102",
        "filename": "pkg/apisrv/proxy.go",
        "patchSetId": 1
      },
      "lineNbr": 269,
      "author": {
        "id": 565
      },
      "writtenOn": "2019-12-16T11:05:48Z",
      "side": 1,
      "message": "IMO GetData() method is a bit too broad and exposes the implementation details of endpoint.Store. Please add Range method on endpointStore instead.",
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3635c031_246ae03f",
        "filename": "pkg/apisrv/proxy.go",
        "patchSetId": 1
      },
      "lineNbr": 269,
      "author": {
        "id": 878
      },
      "writtenOn": "2019-12-17T07:50:41Z",
      "side": 1,
      "message": "Range method was added.",
      "parentUuid": "076c9d28_77570102",
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "792accd6_ddc69c2a",
        "filename": "pkg/apisrv/proxy.go",
        "patchSetId": 1
      },
      "lineNbr": 322,
      "author": {
        "id": 565
      },
      "writtenOn": "2019-12-16T11:05:48Z",
      "side": 1,
      "message": "If we added error to UpdateEndpoint signature, we could return error if the scope does not exist. That would allow to move this check to endpoint store implementation and limit the API surface by removing the InStore method.",
      "range": {
        "startLine": 318,
        "startChar": 1,
        "endLine": 322,
        "endChar": 2
      },
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95bfaff2_57e8eb22",
        "filename": "pkg/apisrv/proxy.go",
        "patchSetId": 1
      },
      "lineNbr": 322,
      "author": {
        "id": 878
      },
      "writtenOn": "2019-12-17T07:50:41Z",
      "side": 1,
      "message": "Error was added to UpdateEndpoint signature. Still InStore method is used in readTargets function.",
      "parentUuid": "792accd6_ddc69c2a",
      "range": {
        "startLine": 318,
        "startChar": 1,
        "endLine": 322,
        "endChar": 2
      },
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4903e816_75c4737b",
        "filename": "pkg/apisrv/store.go",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 565
      },
      "writtenOn": "2019-12-16T11:05:48Z",
      "side": 1,
      "message": "I think it shouldn\u0027t be duplicated in apisrv - the original endpoint.Store should be modified to match the new interface.",
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd94b4b6_7d3da4bb",
        "filename": "pkg/apisrv/store.go",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 878
      },
      "writtenOn": "2019-12-17T07:50:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4903e816_75c4737b",
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "15c486d0_1dababf4",
        "filename": "pkg/keystone/api.go",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 565
      },
      "writtenOn": "2019-12-16T11:05:48Z",
      "side": 1,
      "message": "This package should not rely on sync.Map, which is endpoint.Store implementation detail. Instead we should also use interface here and not depend on sync or endpoint packages directly.",
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff66b1ba_7f7c273d",
        "filename": "pkg/replication/replication.go",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 565
      },
      "writtenOn": "2019-12-16T11:05:48Z",
      "side": 1,
      "message": "Ditto pkg/keystone/api.go",
      "revId": "e1c9df55d81e59603a9c1675353ef1a4ca824603",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    }
  ]
}